(()=>{"use strict";function t(t,e){let n=t,o=e,r=Math.floor(Math.random()*Date.now());return{getDesc:function(){return o},getTitle:function(){return n},getID:function(){return r}}}function e(){const c=function(){const t=[];function e(e){return t[e.getID()]}return{addItem:function(e){t[e.getID()]||(t[e.getID()]=e)},getItem:e,getAllItems:function(){return t},removeItem:function(n){e(n)&&delete t[n.getID()]}}}(),d=function(){const t=[];return{addProject:function(e){t[e.getID()]||(t[e.getID()]=e)},getProject:function(e){return t[e.getID()]},getAllProjects:function(){return t}}}(),u=t("Default","Default");return d.addProject(u),console.log(d.getAllProjects()),document.getElementById("dropdown-button")||r(d).projectSelector(d.getAllProjects()),{drawContent:function(){var t;t=c,document.querySelector("#newItemBtn").addEventListener("click",(n=>{n.preventDefault();const o=(r=document.querySelector("#itemTitle").value,c=document.querySelector("#descritpion").value,d=document.querySelector("#itemDue").value,u=document.querySelector("#itemPrio").value,i=document.querySelector("#itemProject").value,function(t,e,n,o,r){let c=t,d=e,u=n,i=o,a=r,l=Math.floor(Math.random()*Date.now());return{setTitle:function(t){c=t},getTitle:function(){return c},setDesc:function(t){d=t},getDesc:function(){return d},setDueDate:function(t){u=t},getDueDate:function(){return u},setPrio:function(t){i=t},getPrio:function(){return i},setProject:function(t){a=t},getProject:function(){return a},getID:function(){return l}}}(r,c,d,u,i));var r,c,d,u,i;t.addItem(o),e().drawItemCards(t)}))},drawItemCards:function(t){var e;console.log(t.getAllItems()),n().clearDivID("cardWrapper"),(e=t,{makeItemCard:function(t){for(const[n]of Object.entries(t))o(e).itemHeader(t[n])}}).makeItemCard(t.getAllItems())},drawDropdown:function(t,e,o){if(document.getElementById("dropdown-div"))n().clearDivID("dropdown-div",!0);else{const n=document.createElement("div");n.id="dropdown-div";for(const[e]of Object.entries(t)){const o=document.createElement("p");o.textContent=t[e].getTitle(),o.addEventListener("click",(t=>{r().dropDownClick(t.target.textContent)})),n.appendChild(o)}n.appendChild(function(t){const e=document.createElement("button");return e.id="add-button",e.textContent="+",e.addEventListener("click",(e=>{r().addProject(t)})),e}(o)),e.appendChild(n)}}}}function n(){return{clearDivID:function(t,e){const n=document.getElementById(t);n.innerHTML="",e&&n.remove()},clearDivClass:function(t,e){const n=document.querySelector(t);n.innerHTML=""(e)?n.remove():""}}}function o(t){return{itemHeader:function(n){const o=document.querySelector("#cardWrapper"),r=document.createElement("div");r.id=n.getID(),r.classList.add("itemCard"),r.appendChild(function(t){const e=document.createElement("h3");return e.classList.add("itemTitle"),e.textContent=t.getTitle(),e}(n)),r.appendChild(function(t){const e=document.createElement("button");return e.textContent="Expand",e.addEventListener("click",(e=>{!function(t){const e=document.getElementById(t.getID());if(e.querySelector(".expand-detail")){const t=e.querySelector(".expand-detail");t.innerHTML="",t.remove()}else e.appendChild(function(){function t(t){const c=document.createElement("div");return c.classList.add("expand-detail"),c.appendChild(e(t)),c.appendChild(n(t)),c.appendChild(o(t)),c.appendChild(r(t)),c}function e(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getDesc(),e}function n(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getDueDate(),e}function o(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getPrio(),e}function r(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getProject(),e}return{itemDetails:t}}().itemDetails(t))}(t)})),e}(n)),r.appendChild(function(n,o){const r=document.createElement("button");return r.textContent="Delete",r.addEventListener("click",(n=>{!function(n,o){t.removeItem(o),e().drawItemCards(t)}(0,o)})),r}(r.id,n)),o.appendChild(r)}}}function r(n){return{projectSelector:function(t){const o=document.querySelector("#controls"),r=document.createElement("div");r.classList.add("dropdown-area");const c=document.createElement("button");c.textContent="Default",c.id="dropdown-button",c.addEventListener("click",(o=>{e().drawDropdown(t,r,n)})),r.appendChild(c),o.after(r)},dropDownClick:function(t){document.getElementById("dropdown-button").textContent=t},addProject:function(e){const n=t("Test","Test");e.addProject(n),console.log(e.getAllProjects())}}}e().drawContent()})();