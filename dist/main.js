(()=>{"use strict";(function(){const e=document.querySelector("#newItemBtn"),t=function(){const e=[];function t(t){return e[t.getID()]}return{addItem:function(t){e[t.getID()]||(e[t.getID()]=t)},getItem:t,getAllItems:function(){return e},removeItem:function(n){t(n)&&delete e[n.getID()]}}}(),n=function(){const e=[];return{addProject:function(t){e[t.getID()]||(e[t.getID()]=t)},getProject:function(t){return e[t.getID()]},getAllProjects:function(){return e}}}(),o=function(e,t){let n=Math.floor(Math.random()*Date.now());return{getDesc:function(){return"Default"},getTitle:function(){return"Default"},getID:function(){return n}}}();n.addProject(o),console.log(n.getAllProjects()),function(){function e(e){return e.textContent}return{projectSelector:function(t){const n=document.querySelector("#controls"),o=document.createElement("div"),c=document.createElement("button");c.textContent="Select",o.appendChild(c),c.classList.add("dropdown"),function(t,n){console.log(t);for(const[o]of Object.entries(t)){const c=document.createElement("p");c.classList.add("dropdown-element"),c.textContent=t[o].getTitle(),c.addEventListener("click",(t=>{console.log(e(t.target)),c.classList.remove("show")})),n.appendChild(c)}}(t,o),c.addEventListener("click",(e=>{e.preventDefault(),c.classList.toggle("show");const t=document.querySelectorAll(".dropdown-element");console.log(t);for(let e=0;e<t.length;e++)t[e].classList.toggle("show")})),n.after(o)}}}().projectSelector(n.getAllProjects()),e.addEventListener("click",(e=>{e.preventDefault();const n=function(e,t,n,o,c){let r=e,u=t,i=n,d=o,l=c,a=Math.floor(Math.random()*Date.now());return{setTitle:function(e){r=e},getTitle:function(){return r},setDesc:function(e){u=e},getDesc:function(){return u},setDueDate:function(e){i=e},getDueDate:function(){return i},setPrio:function(e){d=e},getPrio:function(){return d},setProject:function(e){l=e},getProject:function(){return l},getID:function(){return a}}}(document.querySelector("#itemTitle").value,document.querySelector("#descritpion").value,document.querySelector("#itemDue").value,document.querySelector("#itemPrio").value,document.querySelector("#itemProject").value);var o;t.addItem(n),(o=t,{makeItemCard:function(e){(function(e){return{itemHeader:function(t){const n=document.querySelector("#cardWrapper"),o=document.createElement("div");o.id=t.getID(),o.classList.add("itemCard"),o.appendChild(function(e){const t=document.createElement("h3");return t.classList.add("itemTitle"),t.textContent=e.getTitle(),t}(t)),o.appendChild(function(e){const t=document.createElement("button");return t.textContent="Expand",t.addEventListener("click",(t=>{!function(e){const t=document.getElementById(e.getID());if(t.querySelector(".expand-detail")){const e=t.querySelector(".expand-detail");e.innerHTML="",e.remove()}else t.appendChild(function(){function e(e){const r=document.createElement("div");return r.classList.add("expand-detail"),r.appendChild(t(e)),r.appendChild(n(e)),r.appendChild(o(e)),r.appendChild(c(e)),r}function t(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getDesc(),t}function n(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getDueDate(),t}function o(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getPrio(),t}function c(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getProject(),t}return{itemDetails:e}}().itemDetails(e))}(e)})),t}(t)),o.appendChild(function(t,n){const o=document.createElement("button");return o.textContent="Delete",o.addEventListener("click",(o=>{!function(t,n){const o=document.getElementById(`${t}`);o.innerHTML="",o.remove(),e.removeItem(n)}(t,n)})),o}(o.id,t)),n.appendChild(o)}}})(o).itemHeader(e)}}).makeItemCard(t.getItem(n))}))})()})();