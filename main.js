(()=>{"use strict";function t(){const r=function(){const t=[];function e(e){return t[e.getID()]}return{addItem:function(e){t[e.getID()]||(t[e.getID()]=e)},getItem:e,getAllItems:function(){return t},removeItem:function(n){e(n)&&delete t[n.getID()]}}}();return{drawContent:function(){!function(e){const n=document.querySelector("#newItemBtn"),r=function(){const t=[];return{addProject:function(e){t[e.getID()]||(t[e.getID()]=e)},getProject:function(e){return t[e.getID()]},getAllProjects:function(){return t}}}(),c=function(t,e){let n=Math.floor(Math.random()*Date.now());return{getDesc:function(){return"Default"},getTitle:function(){return"Default"},getID:function(){return n}}}();r.addProject(c),console.log(r.getAllProjects()),o().projectSelector(r.getAllProjects()),n.addEventListener("click",(n=>{n.preventDefault();const o=(r=document.querySelector("#itemTitle").value,c=document.querySelector("#descritpion").value,d=document.querySelector("#itemDue").value,u=document.querySelector("#itemPrio").value,i=document.querySelector("#itemProject").value,function(t,e,n,o,r){let c=t,d=e,u=n,i=o,a=r,l=Math.floor(Math.random()*Date.now());return{setTitle:function(t){c=t},getTitle:function(){return c},setDesc:function(t){d=t},getDesc:function(){return d},setDueDate:function(t){u=t},getDueDate:function(){return u},setPrio:function(t){i=t},getPrio:function(){return i},setProject:function(t){a=t},getProject:function(){return a},getID:function(){return l}}}(r,c,d,u,i));var r,c,d,u,i;e.addItem(o),t().drawItemCards(e)}))}(r)},drawItemCards:function(t){var o;console.log(t.getAllItems()),e().clearDivID("cardWrapper"),(o=t,{makeItemCard:function(t){for(const[e]of Object.entries(t))n(o).itemHeader(t[e])}}).makeItemCard(t.getAllItems())},drawDropdown:function(t,n){if(document.getElementById("dropdown-div"))e().clearDivID("dropdown-div",!0);else{const e=document.createElement("div");e.id="dropdown-div";for(const[n]of Object.entries(t)){const r=document.createElement("p");r.textContent=t[n].getTitle(),r.addEventListener("click",(t=>{o().dropDownClick(t.target.textContent)})),e.appendChild(r)}e.appendChild(function(){const t=document.createElement("button");return t.id="add-button",t.textContent="+",t}()),n.appendChild(e)}}}}function e(){return{clearDivID:function(t,e){const n=document.getElementById(t);n.innerHTML="",e&&n.remove()},clearDivClass:function(t,e){const n=document.querySelector(t);n.innerHTML=""(e)?n.remove():""}}}function n(e){return{itemHeader:function(n){const o=document.querySelector("#cardWrapper"),r=document.createElement("div");r.id=n.getID(),r.classList.add("itemCard"),r.appendChild(function(t){const e=document.createElement("h3");return e.classList.add("itemTitle"),e.textContent=t.getTitle(),e}(n)),r.appendChild(function(t){const e=document.createElement("button");return e.textContent="Expand",e.addEventListener("click",(e=>{!function(t){const e=document.getElementById(t.getID());if(e.querySelector(".expand-detail")){const t=e.querySelector(".expand-detail");t.innerHTML="",t.remove()}else e.appendChild(function(){function t(t){const c=document.createElement("div");return c.classList.add("expand-detail"),c.appendChild(e(t)),c.appendChild(n(t)),c.appendChild(o(t)),c.appendChild(r(t)),c}function e(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getDesc(),e}function n(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getDueDate(),e}function o(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getPrio(),e}function r(t){const e=document.createElement("p");return e.classList.add("itemText"),e.textContent=t.getProject(),e}return{itemDetails:t}}().itemDetails(t))}(t)})),e}(n)),r.appendChild(function(n,o){const r=document.createElement("button");return r.textContent="Delete",r.addEventListener("click",(n=>{!function(n,o){e.removeItem(o),t().drawItemCards(e)}(0,o)})),r}(r.id,n)),o.appendChild(r)}}}function o(e){return{projectSelector:function(e){const n=document.querySelector("#controls"),o=document.createElement("div");o.classList.add("dropdown-area");const r=document.createElement("button");r.textContent="Default",r.id="dropdown-button",r.addEventListener("click",(n=>{t().drawDropdown(e,o)})),o.appendChild(r),n.after(o)},dropDownClick:function(t){document.getElementById("dropdown-button").textContent=t}}}t().drawContent()})();