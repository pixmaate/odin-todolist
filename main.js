(()=>{"use strict";function e(e,t){let n=e,o=t,c=Math.floor(Math.random()*Date.now());return{getDesc:function(){return o},getTitle:function(){return n},getID:function(){return c}}}(function(){const t=document.querySelector("#newItemBtn"),n=function(){const e=[];function t(t){return e[t.getID()]}return{addItem:function(t){e[t.getID()]||(e[t.getID()]=t)},getItem:t,getAllItems:function(){return e},removeItem:function(n){t(n)&&delete e[n.getID()]}}}(),o=function(){const e=[];return{addProject:function(t){e[t.getID()]||(e[t.getID()]=t)},getProject:function(t){return e[t.getID()]},getAllProjects:function(){return e}}}(),c=e("Default","Default");o.addProject(c),console.log(o.getAllProjects()),function(t){function n(e,t,n){const o=document.createElement("div");o.classList.add("project-area-elements");for(const[t]of Object.entries(e)){const n=document.createElement("p");n.classList.add("dropdown-element"),n.textContent=e[t].getTitle(),n.addEventListener("click",(e=>{console.log(e.target.textContent),n.classList.remove("show"),document.querySelector(".dropdown").textContent=n.textContent})),o.appendChild(n)}return t.appendChild(o),o}return{projectSelector:function(o){const c=document.querySelector("#controls"),r=document.createElement("div");r.classList.add("dropdown-area");const d=document.createElement("button");d.textContent="Default",r.appendChild(d),d.classList.add("dropdown"),function(t,o,c){const r=document.createElement("button");r.textContent="+",r.classList.add("dropdown-element"),r.id="addbutton",r.addEventListener("click",(t=>{t.preventDefault();const r=e("Test","Test");o.addProject(r),function(){const e=document.querySelector(".project-area-elements");e.innerHTML="",e.remove()}(),console.log(o.getAllProjects()),n(o.getAllProjects(),c)})),t.appendChild(r)}(n(t.getAllProjects(),r),t,r),d.addEventListener("click",(e=>{e.preventDefault(),d.classList.toggle("show");const t=document.querySelectorAll(".dropdown-element");console.log(t);for(let e=0;e<t.length;e++)t[e].classList.toggle("show")})),c.after(r)}}}(o).projectSelector(o.getAllProjects()),t.addEventListener("click",(e=>{e.preventDefault();const t=function(e,t,n,o,c){let r=e,d=t,u=n,i=o,l=c,a=Math.floor(Math.random()*Date.now());return{setTitle:function(e){r=e},getTitle:function(){return r},setDesc:function(e){d=e},getDesc:function(){return d},setDueDate:function(e){u=e},getDueDate:function(){return u},setPrio:function(e){i=e},getPrio:function(){return i},setProject:function(e){l=e},getProject:function(){return l},getID:function(){return a}}}(document.querySelector("#itemTitle").value,document.querySelector("#descritpion").value,document.querySelector("#itemDue").value,document.querySelector("#itemPrio").value,document.querySelector("#itemProject").value);var o;n.addItem(t),(o=n,{makeItemCard:function(e){(function(e){return{itemHeader:function(t){const n=document.querySelector("#cardWrapper"),o=document.createElement("div");o.id=t.getID(),o.classList.add("itemCard"),o.appendChild(function(e){const t=document.createElement("h3");return t.classList.add("itemTitle"),t.textContent=e.getTitle(),t}(t)),o.appendChild(function(e){const t=document.createElement("button");return t.textContent="Expand",t.addEventListener("click",(t=>{!function(e){const t=document.getElementById(e.getID());if(t.querySelector(".expand-detail")){const e=t.querySelector(".expand-detail");e.innerHTML="",e.remove()}else t.appendChild(function(){function e(e){const r=document.createElement("div");return r.classList.add("expand-detail"),r.appendChild(t(e)),r.appendChild(n(e)),r.appendChild(o(e)),r.appendChild(c(e)),r}function t(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getDesc(),t}function n(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getDueDate(),t}function o(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getPrio(),t}function c(e){const t=document.createElement("p");return t.classList.add("itemText"),t.textContent=e.getProject(),t}return{itemDetails:e}}().itemDetails(e))}(e)})),t}(t)),o.appendChild(function(t,n){const o=document.createElement("button");return o.textContent="Delete",o.addEventListener("click",(o=>{!function(t,n){const o=document.getElementById(`${t}`);o.innerHTML="",o.remove(),e.removeItem(n)}(t,n)})),o}(o.id,t)),n.appendChild(o)}}})(o).itemHeader(e)}}).makeItemCard(n.getItem(t))}))})()})();